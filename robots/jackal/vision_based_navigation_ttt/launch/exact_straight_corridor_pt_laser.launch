<?xml version="1.0"?>

<launch>
        <!-- overwriting these args -->
        <arg name="debug" default="false" />
        <arg name="gui" default="true" />
        <arg name="pause" default="false" />
        <arg name="world" default="$(find vision_based_navigation_ttt)/GazeboWorlds/exact_straight_corridor.world" />
        <arg name="extra_gazebo_args" default="--verbose"/>

        <!-- include gazebo_ros launcher -->
        <include file="$(find gazebo_ros)/launch/empty_world.launch">
                <arg name="world_name" value="$(arg world)" />
                <arg name="debug" value="$(arg debug)" />
                <arg name="gui" value="$(arg gui)" />
                <arg name="paused" value="$(arg pause)" />
                <arg name="use_sim_time" value="true" />
                <arg name="extra_gazebo_args" value="$(arg extra_gazebo_args)"/>
        </include>

        <!-- Configuration of Jackal which you would like to simulate.
        See jackal_description for details. -->

         <!-- Spawn Jackal-->
        <include file="$(find vision_based_navigation_ttt)/launch/spawn_jackal.launch">
                <arg name="x" value="10" />
                <arg name="y" value="-1.5" />
                <arg name="z" value="1.0" />
                <arg name="yaw" value="-3.15" />
        </include> 

        <param name="filter_mad" type="bool" value="true" /> <!--set value to true to use median absolute deviation for filtering and 
        false to use mean filtering-->
        <!--directly run all three nodes
        <include file="$(find vision_based_navigation_ttt)/launch/optical_flow_nodes.launch">
        </include>-->
          <!-- Depth Image to Laser Scan Node -->
        <node name="depthimage_to_laserscan" pkg="depthimage_to_laserscan" type="depthimage_to_laserscan" args="3">

        <remap from="image"       to="/realsense/depth/image_rect_raw"/> <!-- change here for your camera depth topic name. Default: "/camera/depth/image_raw" -->

        <remap from="camera_info" to="/realsense/depth/camera_info"/> 
        <!-- the remap for camera_info by default uses the same path as the one given to the image topic. Default: "<path_to_image_topic>/camera_info>" -->
        <!-- PARAMETERS: -->
        <!-- These are the default values. --> 
        <param name="scan_height"     type="int"    value="1"/> <!-- default: 1 pixel. Number of pixel rows used to generate laser scan. -->
        <param name="scan_time"       type="double" value="0.033"/> <!-- default:0.033, 30 FPS . Time between scans. -->
        <param name="range_min"       type="double" value="0.45"/> <!--default:0.45m. Ranges less than this are considered -Inf. -->
        <param name="range_max"       type="double" value="10.0"/> <!--default: 10m. Ranges more than this are considered +Inf. -->
        <param name="output_frame_id" type="str"    value="camera_depth_frame"/> <!--default: camera_depth_frame. Frame id of the laser scan. -->
                
        </node>
</launch>       


